<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>
      body{
          background:#232323;
      }
    </style>
  </head>
  <body>
    <div id="main" style="height:430px;width:800px;"></div>
    <script src="/js/echarts-2.2.3/build/dist/echarts.js"></script>
    <script>

        require.config({
            paths: {
                echarts: '/js/echarts-2.2.3/build/dist'
            }
        });

        require(
            [
                'echarts',
                'echarts/chart/wordCloud'
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main'));

                var option = {
                    title: {
                        text: '',
                    },
                    tooltip: {
                        show: false
                    },
                    series: [{
                        name: '',
                        type: 'wordCloud',
                        size: ['80%', '80%'],
                        textRotation : [0, 45, 90, -45],
                        textPadding: 0,
                        autoSize: {
                            enable: true,
                            minSize: 14
                        },
                        data: []
                    }]
                };

                function createRandomItemStyle() {
                    return {
                        normal: {
                            color: 'rgb(' + [
                                Math.round(160 + Math.random() * 90),
                                Math.round(160 + Math.random() * 90),
                                Math.round(160 + Math.random() * 90)
                            ].join(',') + ')'
                        }
                    };
                }

                var wordList = [
                  '将文字文本独立出来',
                  '从量词中"提取"必须的元素',
                  '"提取"多选结构开头的必需元素',
                  '避免"指数级"匹配',
                  '编译缓存',
                  '长度判断优化',
                  '预查必须字符/子字符串优化',
                  '字符串起始/行锚点优化',
                  '隐式锚点优化',
                  '字符串结束/行锚点优化',
                  '开头字符/字符组/子串识别优化',
                  '内嵌文字字符串检查优化',
                  '长度识别传动优化',
                  '文字字符串连接优化',
                  '化简量词优化',
                  '消除无必要的括号',
                  '消除不需要的字符组',
                  '忽略优先量词之后的字符优化',
                  '"过度"回溯检测',
                  '使用占有优先量词削减状态',
                  '量词等价转换',
                  '将表达式前面独立出^和\\G',
                  '在表达式末尾独立出$',
                  '合适的拆分',
                  '使用固化分组',
                  '使用占有优先量词',
                  '将最可能匹配的多选分支放在前头',
                  '将结尾部分分散到多选结构内',
                  '消除循环'
                ];

                for(var i in wordList){
                  console.log("word %s is %s",i,wordList[i]);
                  option.series[0].data.push({
                      name: wordList[i],
                      value: parseInt(200+Math.random()*200),
                      itemStyle: createRandomItemStyle()
                  })
                }
                console.log(option.series[0].data);


                // 为echarts对象加载数据
                myChart.setOption(option);
            }
        );
    </script>
  </body>
</html>
